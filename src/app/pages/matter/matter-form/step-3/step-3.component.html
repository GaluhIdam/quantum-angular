<div class="card" *ngIf="billabiltiySelection !== 'Probono'">
  <fui-text class="head-label" [weight]="'semibold'"
    >Payer Information</fui-text
  >

  <div class="grid-2">
    <!-- PAYING ENTITY  -->
    <div class="form-control">
      <div class="flex-between">
        <fui-text class="label">Paying Entity</fui-text>
        <div class="checkbox">
          <input
            type="checkbox"
            [checked]="isPayingEntity"
            [(ngModel)]="isPayingEntity"
          />
          <fui-text [size]="'sizes'" (click)="isPayingEntity = !isPayingEntity"
            >Same as Client</fui-text
          >
        </div>
      </div>
      <fui-combo-box
        [singleSelection]="false"
        [comboxForm]="payingEntityForm"
        (selection)="selectionPayingEntity($event)"
        [placeholder]="'Search paying entity'"
        [disabled]="isPayingEntity"
        [invalid]="false"
        [message]="''"
        [leftIcon]="'search'"
        [optionValue]="payingEntityOption"
        [selectedValue]="payingEntitySelected"
      />
      <fui-button-icon
        class="flex mt-15"
        [style]="'secondary'"
        [color]="'primary'"
        [type]="'button'"
        [option]="'iconText'"
        [icon]="'plusInCircle'"
        [text]="'Add new paying entity'"
      />
    </div>
    <!-- PAYING ENTITY  -->

    <!-- CONTACT PERSON  -->
    <div class="form-control">
      <fui-text class="label">Contact Person</fui-text>
      <fui-form-control-layout>
        <fui-select-field
          [formControlField]="contactPersonForm"
          [disabled]="payingEntitySelected.length === 0"
          [size]="'m'"
          [placeholder]="'Please select contact person'"
          [invalid]="false"
          [selectOptions]="contactPersonOption"
        >
        </fui-select-field>
      </fui-form-control-layout>
      <fui-button-icon
        *ngIf="payingEntitySelected.length > 0"
        (onClick)="openFlyouContactPerson()"
        class="flex mt-15"
        [style]="'secondary'"
        [color]="'primary'"
        [type]="'button'"
        [option]="'iconText'"
        [icon]="'plusInCircle'"
        [text]="'Add new contact person'"
      />
    </div>
    <!-- CONTACT PERSON  -->
  </div>

  <!-- SLIDER  -->
  <shared-slider-card
    *ngIf="payingEntitySlider.length > 0"
    [dataSlider]="payingEntitySlider"
    [currentSlideIndex]="currentSlideIndexPayingEntity"
    (slideOut)="slideOut($event)"
  >
    <shared-slider-card-body
      *ngFor="let item of payingEntitySelected; let i = index"
      [id]="i + 1"
      [current]="currentSlideIndex + 1"
    >
      <div class="card-blue">
        <div class="grid-2">
          <fui-text>Parent/Group Company</fui-text>
          <fui-text>Company's Origin Country</fui-text>
        </div>
        <div class="mt-5 grid-2">
          <fui-text [weight]="'semibold'">{{ item.value.parent }}</fui-text>
          <fui-text [weight]="'semibold'">{{
            item.value.companyOrigin
          }}</fui-text>
        </div>
        <div class="mt-20 grid">
          <fui-text>Address</fui-text>
          <fui-text [weight]="'semibold'" class="mt-5">{{
            item.value.address
          }}</fui-text>
        </div>
        <fui-link
          class="mt-20"
          [colorLink]="'primary'"
          [urlLink]="'#'"
          [typeLink]="'coloring'"
          >Change address</fui-link
        >
        <div class="mt-20 grid">
          <fui-text>Entity Type</fui-text>
          <fui-text [weight]="'semibold'" class="mt-5">{{
            item.value.entityType
          }}</fui-text>
        </div>
        <div class="mt-20 grid">
          <fui-text>Industry/Business Sector</fui-text>
          <fui-text [weight]="'semibold'" class="mt-5">{{
            item.value.industry
          }}</fui-text>
        </div>
      </div>
    </shared-slider-card-body>
  </shared-slider-card>
  <!-- SLIDER  -->

  <fui-text class="head-label flex mt-30" [weight]="'semibold'"
    >Fee Arrangement</fui-text
  >

  <div
    [ngClass]="{
    'grid-2': pricingTypeForm.value === 'Lumpsum' || pricingTypeForm.value === 'Retainer',
    'grid-3': pricingTypeForm.value === 'Hourly' || pricingTypeForm.value  === 'Cap',
  }"
  >
    <!-- PRICING TYPE  -->
    <div class="form-control">
      <div class="flex-start">
        <fui-text class="label">Pricing Type</fui-text>
        <fui-tooltip [position]="'top'" [content]="'Label tooltip'">
          <fui-icons [icon]="'questionInCircle'" [size]="'sizes'" />
        </fui-tooltip>
      </div>
      <fui-form-control-layout>
        <fui-select-field
          [size]="'m'"
          [disabled]="isPricingTypeForm"
          [disabled]="billabiltiySelection === 'Potential Matter'"
          [placeholder]="'Please select priciing type'"
          [formControlField]="pricingTypeForm"
          [invalid]="false"
          [selectOptions]="pricingTypeOption"
        >
        </fui-select-field>
      </fui-form-control-layout>
    </div>
    <!-- PRICING TYPE  -->

    <!-- CURRENCY  -->
    <div class="form-control">
      <fui-text class="label">Currency</fui-text>
      <fui-form-control-layout>
        <fui-select-field
          [size]="'m'"
          [formControlField]="currencyForm"
          [placeholder]="'Please select contact person'"
          [invalid]="false"
          [selectOptions]="currencyOption"
        >
        </fui-select-field>
      </fui-form-control-layout>
    </div>
    <!-- CURRENCY  -->

    <!-- ESTIMATED FEE  -->
    <div class="form-control" *ngIf="pricingTypeForm.value === 'Hourly'">
      <div class="flex-between">
        <fui-text class="label">Estimated Fee</fui-text>
        <div class="checkbox">
          <input
            type="checkbox"
            [checked]="isEstimatedFee"
            [(ngModel)]="isEstimatedFee"
          />
          <fui-text [size]="'sizes'" (click)="isEstimatedFee = !isEstimatedFee"
            >N/A</fui-text
          >
        </div>
      </div>
      <fui-form-control-layout *ngIf="!isEstimatedFee">
        <fui-prepend>
          <fui-text [size]="'sizexs'" [weight]="'semibold'">{{
            currencyForm.value
          }}</fui-text>
        </fui-prepend>
        <fui-input-field
          [formControlField]="estimatedFeeForm"
          [type]="'number'"
          [invalid]="false"
          [placeholder]="'Type amount'"
          [size]="'m'"
        ></fui-input-field>
      </fui-form-control-layout>
      <fui-text
        class="fs-italic mt-10"
        [color]="'disabled'"
        *ngIf="isEstimatedFee"
        >Not Applicable</fui-text
      >
    </div>
    <!-- ESTIMATED FEE  -->

    <!-- CAP FEE  -->
    <div class="form-control" *ngIf="pricingTypeForm.value === 'Cap'">
      <fui-text class="label">Cap Fee</fui-text>
      <fui-form-control-layout>
        <fui-prepend>
          <fui-text [size]="'sizexs'" [weight]="'semibold'">{{
            currencyForm.value
          }}</fui-text>
        </fui-prepend>
        <fui-input-field
          [formControlField]="capFeeForm"
          [type]="'text'"
          [invalid]="false"
          [placeholder]="'Type amount'"
          [size]="'m'"
        ></fui-input-field>
      </fui-form-control-layout>
    </div>
    <!-- CAP FEE  -->
  </div>

  <div class="grid-2" *ngIf="pricingTypeForm.value === 'Retainer'">
    <!-- RETAINER PERIOD START  -->
    <div class="form-control">
      <fui-text class="label">Retainer Period Start</fui-text>
      <fui-date-picker
        [dateFormControl]="startPeriodForm"
        [dateFormat]="'DD-MM-YYYY'"
      />
    </div>
    <!-- RETAINER PERIOD START  -->

    <!-- RETAINER PERIOD END  -->
    <div class="form-control">
      <fui-text class="label">Retainer Period End</fui-text>
      <fui-date-picker
        [dateFormControl]="endPeriodForm"
        [dateFormat]="'DD-MM-YYYY'"
      />
    </div>
    <!-- RETAINER PERIOD END  -->
  </div>

  <!-- TABLE LUMPSUM -->
  <div *ngIf="pricingTypeForm.value === 'Lumpsum'">
    <fui-text>Lumpsum Term</fui-text>
    <fui-table
      *ngIf="dataLumpsum.length > 0"
      [pagination]="false"
      class="flex mt-5"
      [limit]="5"
      [totalItems]="1"
      [showInfo]="false"
    >
      <fui-table-head *ngFor="let header of title">
        <div [ngClass]="{ 'text-right': header === 'Amount' }">
          {{ header }}
        </div>
      </fui-table-head>
      <fui-table-body>
        <fui-table-body-row *ngFor="let item of dataLumpsum">
          <fui-table-body-data style="min-width: 20px; width: 20px">
            {{ item.paymentOrder }}
          </fui-table-body-data>
          <fui-table-body-data>
            <div>
              <fui-text>{{ item.desc }}</fui-text>
              <div class="flex mt-5">
                <fui-badge
                  [isBadgeIcon]="true"
                  [iconPosition]="'start'"
                  [sizeIcon]="'sizexs'"
                  *ngIf="item.status"
                  [color]="item.status === 'Collected' ? 'success' : 'warning'"
                  [size]="'sizexs'"
                  [icon]="item.status === 'Collected' ? 'tag' : 'stopSlash'"
                  ><fui-text [size]="'sizexs'">{{
                    item.status
                  }}</fui-text></fui-badge
                >
                <fui-badge
                  [isBadgeIcon]="true"
                  [iconPosition]="'start'"
                  [sizeIcon]="'sizexs'"
                  *ngIf="item.addOn"
                  [color]="'ghost'"
                  [size]="'sizexs'"
                  [icon]="'document'"
                  ><fui-text [size]="'sizexs'">{{
                    item.addOn
                  }}</fui-text></fui-badge
                >
              </div>
            </div>
          </fui-table-body-data>
          <fui-table-body-data>
            <div class="text-right">
              <fui-text>{{ currencyForm.value }} {{ item.amount }}</fui-text>
            </div>
          </fui-table-body-data>
          <fui-table-body-data style="min-width: 20px; width: 20px">
            <div class="flex">
              <fui-button-icon
                [disabled]="
                  item.status === 'Collected' || item.status === 'Written-off'
                "
                (onClick)="addEditRemoveLumpsumTerm('edit', item)"
                [type]="'button'"
                [size]="'m'"
                [color]="
                  item.status === 'Collected' || item.status === 'Written-off'
                    ? 'disabled'
                    : 'primary'
                "
                [style]="'secondary'"
                [option]="'icon'"
                [icon]="'pencil'"
              />
              <fui-button-icon
                [disabled]="
                  item.status === 'Collected' || item.status === 'Written-off'
                "
                [type]="'button'"
                [size]="'m'"
                [color]="
                  item.status === 'Collected' || item.status === 'Written-off'
                    ? 'disabled'
                    : 'danger'
                "
                [style]="'secondary'"
                [option]="'icon'"
                [icon]="'stopSlash'"
              />
              <fui-button-icon
                [disabled]="
                  item.status && item.status !== 'Written-off' ? true : false
                "
                (onClick)="addEditRemoveLumpsumTerm('remove', item)"
                [type]="'button'"
                [size]="'m'"
                [color]="
                  item.status && item.status !== 'Written-off'
                    ? 'disabled'
                    : 'danger'
                "
                [style]="'secondary'"
                [option]="'icon'"
                [icon]="'trash'"
              />
            </div>
          </fui-table-body-data>
        </fui-table-body-row>
      </fui-table-body>
    </fui-table>
    <fui-button-icon
      (onClick)="openFlyouLumpsumTerm()"
      class="flex mt-15"
      [style]="'secondary'"
      [color]="'primary'"
      [type]="'button'"
      [option]="'iconText'"
      [icon]="'plusInCircle'"
      [text]="'Add Lumpsum Term'"
    />
  </div>
  <!-- TABLE LUMPSUM -->

  <!-- TABLE RETAINER -->
  <div *ngIf="pricingTypeForm.value === 'Retainer'">
    <fui-text>Retainer Term</fui-text>
    <fui-table
      [pagination]="false"
      class="flex mt-5"
      [limit]="5"
      [totalItems]="1"
      [showInfo]="false"
    >
      <fui-table-head *ngFor="let header of titleRetainer">
        <div [ngClass]="{ 'text-right': header === 'Term' }">
          {{ header }}
        </div>
      </fui-table-head>
      <fui-table-body>
        <fui-table-body-row *ngFor="let item of dataRetainer">
          <fui-table-body-data style="min-width: 20px; width: 20px">
            1
          </fui-table-body-data>
          <fui-table-body-data>
            <fui-text>{{ item.period }}</fui-text>
            <fui-badge
              class="flex mt-5"
              [isBadgeIcon]="true"
              [iconPosition]="'start'"
              [sizeIcon]="'sizexs'"
              *ngIf="item.status"
              [color]="item.status === 'Collected' ? 'success' : 'warning'"
              [size]="'sizexs'"
              [icon]="item.status === 'Collected' ? 'tag' : 'stopSlash'"
              ><fui-text [size]="'sizexs'">{{
                item.status
              }}</fui-text></fui-badge
            >
            <fui-badge
              class="flex mt-5"
              [isBadgeIcon]="true"
              [iconPosition]="'start'"
              [sizeIcon]="'sizexs'"
              *ngIf="item.addOn"
              [color]="'ghost'"
              [size]="'sizexs'"
              [icon]="'document'"
              ><fui-text [size]="'sizexs'">{{
                item.addOn
              }}</fui-text></fui-badge
            >
          </fui-table-body-data>
          <fui-table-body-data>
            <div class="grid-1 gap-5 text-right">
              <fui-text [textWrap]="'nowrap'"
                >{{ currencyForm.value }} {{ item.amount }}</fui-text
              >
              <fui-text>{{ item.hours }} Hours</fui-text>
            </div>
          </fui-table-body-data>
          <fui-table-body-data>
            <fui-text>{{ item.desc }}</fui-text>
          </fui-table-body-data>
          <fui-table-body-data style="min-width: 20px; width: 20px">
            <div class="flex">
              <fui-button-icon
                (onClick)="addEditRemoveRetianerForm('edit', item)"
                [disabled]="
                  item.status === 'Collected' || item.status === 'Written-off'
                "
                [type]="'button'"
                [size]="'m'"
                [color]="
                  item.status === 'Collected' || item.status === 'Written-off'
                    ? 'disabled'
                    : 'primary'
                "
                [style]="'secondary'"
                [option]="'icon'"
                [icon]="'pencil'"
              />
              <fui-button-icon
                [disabled]="
                  item.status === 'Collected' || item.status === 'Written-off'
                "
                [type]="'button'"
                [size]="'m'"
                [color]="
                  item.status === 'Collected' || item.status === 'Written-off'
                    ? 'disabled'
                    : 'danger'
                "
                [style]="'secondary'"
                [option]="'icon'"
                [icon]="'stopSlash'"
              />
              <fui-button-icon
                (onClick)="addEditRemoveRetianerForm('remove', item)"
                [disabled]="
                  item.status && item.status !== 'Written-off' ? true : false
                "
                [type]="'button'"
                [size]="'m'"
                [color]="
                  item.status && item.status !== 'Written-off'
                    ? 'disabled'
                    : 'danger'
                "
                [style]="'secondary'"
                [option]="'icon'"
                [icon]="'trash'"
              />
            </div>
          </fui-table-body-data>
        </fui-table-body-row>
      </fui-table-body>
    </fui-table>
    <fui-button-icon
      (onClick)="openFlyouRetainerTerm()"
      class="flex mt-15"
      [style]="'secondary'"
      [color]="'primary'"
      [type]="'button'"
      [option]="'iconText'"
      [icon]="'plusInCircle'"
      [text]="'Add Retainer Term'"
    />
  </div>
  <!-- TABLE RETAINER -->

  <!-- Billing Notes  -->
  <div
    [ngClass]="{
    'grid mt-20': pricingTypeForm.value === 'Lumpsum' || pricingTypeForm.value === 'Retainer',
    'grid': pricingTypeForm.value === 'Hourly' || pricingTypeForm.value  === 'Cap',
  }"
  >
    <div class="flex-between">
      <fui-text class="mt-20">Billing Notes</fui-text>
      <div class="checkbox">
        <input
          type="checkbox"
          [checked]="isBillingNote"
          [(ngModel)]="isBillingNote"
        />
        <fui-text [size]="'sizes'">N/A</fui-text>
      </div>
    </div>
    <fui-text class="flex mt-10" [color]="'disabled'"
      >Add detailed information regarding the fee arrangement for this matter,
      including any special terms, discounts, or additional charges.</fui-text
    >
  </div>
  <div class="form-control mt-10" *ngIf="!isBillingNote">
    <fui-form-control-layout>
      <fui-textarea
        [formControlField]="billingNoteForm"
        [placeholder]="'Type billing notes'"
        [size]="'m'"
        [invalid]="false"
      >
      </fui-textarea>
    </fui-form-control-layout>
  </div>
  <fui-text
    class="fs-italic flex mt-10"
    [color]="'disabled'"
    *ngIf="isBillingNote"
    >Not Applicable</fui-text
  >
  <!-- Billing Notes  -->
</div>

<!-- Proof of Engagement  -->
<div class="card mt-20">
  <div class="grid">
    <fui-text [weight]="'semibold'">Proof of Engagement</fui-text>
    <fui-text class="flex mt-10" [color]="'disabled'"
      >Represents binding work contracts related to this matter. You have the
      option to add multiple proofs of engagement.</fui-text
    >

    <!-- TABLE PROOF -->
    <div>
      <fui-table
        [pagination]="false"
        class="flex mt-15"
        [limit]="5"
        [totalItems]="1"
        [showInfo]="false"
      >
        <fui-table-head *ngFor="let header of titleProof">
          {{ header }}
        </fui-table-head>
        <fui-table-body>
          <fui-table-body-row>
            <fui-table-body-data>
              <div class="flex align-center">
                <fui-icons [icon]="'document'" />
                <fui-text
                  >20240812 - Tripatra - Proposal Jasa Hukum - KIP [signed
                  RNR].pdf
                  <fui-badge class="flex mt-5" [size]="'sizem'" [color]="'text'"
                    >EL AHP Signed</fui-badge
                  ></fui-text
                >
              </div>
            </fui-table-body-data>
            <fui-table-body-data>
              <fui-text>1570/02/56/07/2024</fui-text>
            </fui-table-body-data>
            <fui-table-body-data>
              <fui-text>12 August 2024</fui-text>
            </fui-table-body-data>
            <fui-table-body-data style="min-width: 20px; width: 20px">
              <div class="flex">
                <fui-button-icon
                  [type]="'button'"
                  [color]="'primary'"
                  [style]="'secondary'"
                  [option]="'icon'"
                  [icon]="'search'"
                />
                <fui-button-icon
                  [type]="'button'"
                  [color]="'primary'"
                  [style]="'secondary'"
                  [option]="'icon'"
                  [icon]="'download'"
                />
                <fui-button-icon
                  [type]="'button'"
                  [color]="'danger'"
                  [style]="'secondary'"
                  [option]="'icon'"
                  [icon]="'trash'"
                />
              </div>
            </fui-table-body-data>
          </fui-table-body-row>
        </fui-table-body>
      </fui-table>
      <fui-button-icon
        class="flex mt-15"
        [style]="'secondary'"
        [color]="'primary'"
        [type]="'button'"
        [option]="'iconText'"
        [icon]="'plusInCircle'"
        [text]="'Add Proof of Engagement'"
      />
    </div>
    <!-- TABLE PROOF -->
  </div>
</div>
<!-- Proof of Engagement  -->

<!-- Special Rates  -->
<div class="card mt-20">
  <div class="grid">
    <fui-text [weight]="'semibold'">Special Rates</fui-text>
    <fui-text class="flex mt-10" [color]="'disabled'"
      >Represents binding work contracts related to this matter. You have the
      option to add multiple proofs of engagement.</fui-text
    >

    <!-- COLLABSIBLE  -->
    <fui-collapsible-nav-group
      *ngFor="let item of dataSpecialRate"
      class="mt-20"
      [isCollapsed]="isCollapsed"
    >
      <div header>
        <div class="flex-between">
          <div class="grid">
            <fui-text>{{ item.member }}</fui-text>
            <fui-text class="italic">{{ item.position }}</fui-text>
          </div>
          <div class="flex">
            <fui-text
              [textWrap]="'nowrap'"
              style="width: -webkit-fill-available; text-align: end"
              >{{ currencyForm.value }} {{ getMinMaxRates().minRate }}.00 ~
              {{ currencyForm.value }}
              {{ getMinMaxRates().maxRate }}.00</fui-text
            >
            <fui-button-icon
              [size]="'s'"
              (onClick)="toggleCollapse()"
              [type]="'button'"
              [option]="'icon'"
              [icon]="isCollapsed ? 'arrowDown' : 'arrowRight'"
              [color]="'text'"
              [style]="'secondary'"
            />
          </div>
        </div>
      </div>
      <div body class="mt-5">
        <fui-table
          [pagination]="false"
          class="flex mt-15"
          [limit]="5"
          [totalItems]="1"
          [showInfo]="false"
        >
          <fui-table-body>
            <fui-table-body-row *ngFor="let subitem of item.rates">
              <fui-table-body-data>
                <fui-text>{{ subitem.start }} - {{ subitem.end }}</fui-text>
              </fui-table-body-data>
              <fui-table-body-data>
                <fui-text
                  >{{ currencyForm.value }} {{ subitem.rate }}.00</fui-text
                >
              </fui-table-body-data>
              <fui-table-body-data style="min-width: 20px; width: 20px">
                <div class="flex">
                  <fui-button-icon
                    (onClick)="
                      addEditRemoveSpecialRate('edit', item.member, subitem)
                    "
                    [type]="'button'"
                    [color]="'primary'"
                    [style]="'secondary'"
                    [option]="'icon'"
                    [icon]="'pencil'"
                  />
                  <fui-button-icon
                    [type]="'button'"
                    [color]="'danger'"
                    [style]="'secondary'"
                    [option]="'icon'"
                    [icon]="'trash'"
                  />
                </div>
              </fui-table-body-data>
            </fui-table-body-row>
          </fui-table-body>
        </fui-table>
      </div>
    </fui-collapsible-nav-group>
    <!-- COLLABSIBLE  -->

    <fui-button-icon
      (onClick)="addEditRemoveSpecialRate('add')"
      class="mt-20"
      [type]="'button'"
      [option]="'iconText'"
      [icon]="'plusInCircle'"
      [text]="'Set up special rate'"
      [color]="'primary'"
      [style]="'secondary'"
    />
  </div>
</div>
<!-- Special Rates  -->

<!-- CONTACT PERSON FLYOUT  -->
<shared-flyout-simple
  [isOpenFlyout]="isFlyoutContactPerson"
  [titleFlyout]="'Add Contact'"
  (closeOut)="openFlyouContactPerson()"
>
  <div body>
    <!-- STACKHOLDER  -->
    <div class="form-control">
      <fui-text class="label"> Stackholder </fui-text>
      <fui-form-control-layout>
        <fui-select-field
          [size]="'m'"
          [placeholder]="'Please select stackholder'"
          [invalid]="false"
          [selectOptions]="[]"
        >
        </fui-select-field>
      </fui-form-control-layout>
    </div>
    <!-- STACKHOLDER  -->

    <!-- NAME  -->
    <div class="form-control">
      <fui-text class="label"> Name </fui-text>
      <fui-form-control-layout>
        <fui-input-field
          [type]="'text'"
          [invalid]="false"
          [placeholder]="'Contact Name'"
          [size]="'m'"
        ></fui-input-field>
      </fui-form-control-layout>
    </div>
    <!-- NAME  -->

    <!-- EMAIL  -->
    <div class="form-control">
      <fui-text class="label"> Email </fui-text>
      <fui-form-control-layout>
        <fui-input-field
          [type]="'text'"
          [invalid]="false"
          [placeholder]="'e.g example@mail.com'"
          [size]="'m'"
        ></fui-input-field>
      </fui-form-control-layout>
    </div>
    <!-- EMAIL  -->

    <!-- PHONE NUMBER  -->
    <div class="form-control">
      <fui-text class="label"> Phone Number </fui-text>
      <fui-form-control-layout>
        <fui-prepend> FLAG </fui-prepend>
        <fui-input-field
          [type]="'text'"
          [invalid]="false"
          [placeholder]="'+62'"
          [size]="'m'"
        ></fui-input-field>
      </fui-form-control-layout>
    </div>
    <!-- PHONE NUMBER  -->

    <hr />

    <!-- POSITION TYPE  -->
    <div class="form-control mt-20">
      <fui-text class="label"> Position Type </fui-text>
      <fui-form-control-layout>
        <fui-select-field
          [size]="'m'"
          [placeholder]="'Please position type'"
          [invalid]="false"
          [selectOptions]="[]"
        >
        </fui-select-field>
      </fui-form-control-layout>
    </div>
    <!-- POSITION TYPE  -->

    <!-- POSITION TITLE  -->
    <div class="form-control">
      <fui-text class="label"> Position Title </fui-text>
      <fui-form-control-layout>
        <fui-input-field
          [type]="'text'"
          [invalid]="false"
          [placeholder]="'Person position title'"
          [size]="'m'"
        ></fui-input-field>
      </fui-form-control-layout>
    </div>
    <!-- POSITION TITLE  -->

    <!-- DEPARTMENT  -->
    <div class="form-control">
      <fui-text class="label"> Departement </fui-text>
      <fui-form-control-layout>
        <fui-input-field
          [type]="'text'"
          [invalid]="false"
          [placeholder]="'Person departement'"
          [size]="'m'"
        ></fui-input-field>
      </fui-form-control-layout>
    </div>
    <!-- DEPARTMENT  -->
  </div>
  <div footer class="flex-between footer-fly">
    <fui-button-icon
      (onClick)="openFlyouContactPerson()"
      [type]="'button'"
      [color]="'primary'"
      [style]="'secondary'"
      [option]="'text'"
      [text]="'Cancel'"
    />
    <fui-button-icon
      (onClick)="openFlyouContactPerson()"
      [type]="'button'"
      [color]="'primary'"
      [style]="'filled'"
      [option]="'text'"
      [text]="'Add Other Stackholder'"
    />
  </div>
</shared-flyout-simple>
<!-- CONTACT PERSON FLYOUT  -->

<!-- LUMPSUM TERM FLYOUT  -->
<shared-flyout-simple
  [isOpenFlyout]="isFlyoutLumpsumTerm"
  [titleFlyout]="addEditLumpsum ? 'Add Lumpsum Term' : 'Edit Lumpsum Term'"
  (closeOut)="openFlyouLumpsumTerm()"
>
  <div body>
    <!-- NAME  -->
    <div class="form-control">
      <fui-text class="label"> Payment Order </fui-text>
      <fui-form-control-layout>
        <fui-input-field
          [type]="'number'"
          [formControlField]="lumpsumPaymentOrderForm"
          [invalid]="false"
          [placeholder]="'Type payment order'"
          [size]="'m'"
          [invalid]="
            lumpsumPaymentOrderForm.invalid && lumpsumPaymentOrderForm.dirty
          "
        >
          <fui-icons
            *ngIf="
              lumpsumPaymentOrderForm.invalid && lumpsumPaymentOrderForm.dirty
            "
            right-icon
            [label]="'right'"
            [icon]="'alert'"
            [size]="'sizem'"
            [color]="'danger'"
          />
        </fui-input-field>
        <fui-validator-field
          validator
          [message]="'Payment order is required!'"
        />
      </fui-form-control-layout>
    </div>
    <!-- NAME  -->

    <!-- AMOUNT  -->
    <div class="form-control">
      <fui-text class="label"> Amount </fui-text>
      <fui-form-control-layout>
        <fui-prepend>
          <fui-text [size]="'sizexs'" [weight]="'semibold'">{{
            currencyForm.value
          }}</fui-text>
        </fui-prepend>
        <fui-input-field
          [formControlField]="lumpsumAmountForm"
          [type]="'text'"
          [invalid]="false"
          [placeholder]="'Type amount'"
          [size]="'m'"
          [invalid]="lumpsumAmountForm.invalid && lumpsumAmountForm.dirty"
        >
          <fui-icons
            *ngIf="lumpsumAmountForm.invalid && lumpsumAmountForm.dirty"
            right-icon
            [label]="'right'"
            [icon]="'alert'"
            [size]="'sizem'"
            [color]="'danger'"
          />
        </fui-input-field>
        <fui-validator-field validator [message]="'Amount is required!'" />
      </fui-form-control-layout>
    </div>
    <!-- AMOUNT  -->

    <!-- DESC  -->
    <div class="form-control">
      <fui-text class="label"> Description </fui-text>
      <fui-form-control-layout>
        <fui-textarea
          [formControlField]="lumpsumdescForm"
          [placeholder]="'Type lumpsum description'"
          [size]="'m'"
          [invalid]="false"
        >
          <fui-icons
            *ngIf="lumpsumdescForm.invalid && lumpsumdescForm.dirty"
            right-icon
            [label]="'right'"
            [icon]="'alert'"
            [size]="'sizem'"
            [color]="'danger'"
          />
        </fui-textarea>
        <fui-validator-field validator [message]="'Description is required!'" />
      </fui-form-control-layout>
    </div>
    <!-- DESC  -->
  </div>
  <div footer class="flex-between footer-fly">
    <fui-button-icon
      (onClick)="openFlyouLumpsumTerm()"
      [type]="'button'"
      [color]="'primary'"
      [style]="'secondary'"
      [option]="'text'"
      [text]="'Cancel'"
    />
    <fui-button-icon
      (onClick)="openFlyouLumpsumTerm()"
      [type]="'button'"
      [color]="'primary'"
      [style]="'filled'"
      [option]="'text'"
      [text]="addEditLumpsum ? 'Add Lumpsum Term' : 'Edit Lumpsum Term'"
    />
  </div>
</shared-flyout-simple>
<!-- LUMPSUM TERM FLYOUT  -->

<!-- RETAIINER TERM FLYOUT  -->
<shared-flyout-simple
  [isOpenFlyout]="isFlyoutRetainerTerm"
  [titleFlyout]="addEditRetainer ? 'Add Retainer Term' : 'Edit Retainer Term'"
  (closeOut)="openFlyouRetainerTerm()"
>
  <div body class="overflow-hidden">
    <div class="grid-2">
      <!-- PAYMENT ORDER  -->
      <div class="form-control">
        <fui-text class="label"> Payment Order </fui-text>
        <fui-form-control-layout>
          <fui-input-field
            [formControlField]="retainerPaymentOrderForm"
            [type]="'number'"
            [invalid]="false"
            [placeholder]="'Type payment order'"
            [size]="'m'"
          ></fui-input-field>
        </fui-form-control-layout>
      </div>
      <!-- PAYMENT ORDER  -->

      <!-- PERIOD  -->
      <div class="form-control">
        <fui-text class="label"> Period </fui-text>
        <fui-date-picker
          [dateFormControl]="retainerPeriodForm"
          [dateFormat]="'DD-MM-YYYY'"
        />
      </div>
      <!-- PERIOD  -->
    </div>

    <div class="grid-2">
      <!-- AMOUNT  -->
      <div class="form-control">
        <fui-text class="label"> Amount </fui-text>
        <fui-form-control-layout>
          <fui-prepend>
            <fui-text [size]="'sizexs'" [weight]="'semibold'">{{
              currencyForm.value
            }}</fui-text>
          </fui-prepend>
          <fui-input-field
            [formControlField]="retainerAmountForm"
            [type]="'text'"
            [invalid]="false"
            [placeholder]="'Type amount'"
            [size]="'m'"
          ></fui-input-field>
        </fui-form-control-layout>
      </div>
      <!-- AMOUNT  -->

      <!-- DURATION  -->
      <div class="form-control">
        <fui-text class="label"> Duration </fui-text>
        <fui-form-control-layout>
          <fui-input-field
            [formControlField]="retainerDurationForm"
            [type]="'number'"
            [invalid]="false"
            [placeholder]="'Type duration'"
            [size]="'m'"
          ></fui-input-field>
        </fui-form-control-layout>
      </div>
      <!-- DURATION  -->
    </div>

    <!-- DESC  -->
    <div class="form-control">
      <fui-text class="label"> Description </fui-text>
      <fui-form-control-layout>
        <fui-textarea
          [formControlField]="retainerDescForm"
          [placeholder]="'Type retianer description'"
          [size]="'m'"
          [invalid]="false"
        >
        </fui-textarea>
      </fui-form-control-layout>
    </div>
    <!-- DESC  -->
  </div>
  <div footer class="flex-between footer-fly">
    <fui-button-icon
      (onClick)="openFlyouRetainerTerm()"
      [type]="'button'"
      [color]="'primary'"
      [style]="'secondary'"
      [option]="'text'"
      [text]="'Cancel'"
    />
    <fui-button-icon
      (onClick)="openFlyouRetainerTerm()"
      [type]="'button'"
      [color]="'primary'"
      [style]="'filled'"
      [option]="'text'"
      [text]="addEditRetainer ? 'Add Retainer Term' : 'Edit Retainer Term'"
    />
  </div>
</shared-flyout-simple>
<!-- RETAIINER TERM FLYOUT  -->

<!-- SPECIAL RATE FLYOUT  -->
<shared-flyout-simple
  [isOpenFlyout]="isFlyoutSpecialRates"
  [titleFlyout]="
    addEditSpecialRate ? 'Add Special Rates' : 'Edit Special Rates'
  "
  (closeOut)="openFlyouSpecialRates()"
>
  <div body>
    <!-- MEMBER NAME  -->
    <div class="form-control">
      <fui-text class="label"> Member Name </fui-text>
      <fui-form-control-layout>
        <fui-select-field
          [disabled]="!addEditSpecialRate"
          [size]="'m'"
          [placeholder]="'Please select member name'"
          [invalid]="false"
          [formControlField]="matterNumberForm"
          [selectOptions]="matterNumberOption"
        >
        </fui-select-field>
      </fui-form-control-layout>
    </div>
    <!-- MEMBER NAME  -->

    <!-- RATE  -->
    <div class="form-control">
      <fui-text class="label"> Rate </fui-text>
      <fui-form-control-layout>
        <fui-prepend>
          <fui-text [size]="'sizexs'" [weight]="'semibold'">{{
            currencyForm.value
          }}</fui-text>
        </fui-prepend>
        <fui-input-field
          [formControlField]="rateForm"
          [type]="'text'"
          [invalid]="false"
          [placeholder]="'Type rate'"
          [size]="'m'"
        ></fui-input-field>
      </fui-form-control-layout>
    </div>
    <!-- RATE  -->

    <div class="grid-2">
      <!--  PERIOD START  -->
      <div class="form-control">
        <fui-text class="label"> Period Start</fui-text>
        <fui-date-picker
          [dateFormControl]="startPeriodRateForm"
          [dateFormat]="'DD-MM-YYYY'"
        />
      </div>
      <!--  PERIOD START  -->

      <!--  PERIOD END  -->
      <div class="form-control">
        <fui-text class="label"> Period End</fui-text>
        <fui-date-picker
          [align]="'end'"
          [dateFormControl]="endPeriodRateForm"
          [dateFormat]="'DD-MM-YYYY'"
        />
      </div>
      <!--  PERIOD END  -->
    </div>
  </div>
  <div footer class="flex-between footer-fly">
    <fui-button-icon
      (onClick)="openFlyouSpecialRates()"
      [type]="'button'"
      [color]="'primary'"
      [style]="'secondary'"
      [option]="'text'"
      [text]="'Cancel'"
    />
    <fui-button-icon
      (onClick)="addEditRemoveSpecialRate('add')"
      [type]="'button'"
      [color]="'primary'"
      [style]="'filled'"
      [option]="'text'"
      [text]="addEditSpecialRate ? 'Add Special Rates' : 'Edit Special Rates'"
    />
  </div>
</shared-flyout-simple>
<!-- SPECIAL RATE FLYOUT  -->

<fui-toast />
