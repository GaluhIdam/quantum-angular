<!-- PAGE  -->
<div class="page-view">
  <!-- SIDEBAR  -->
  <fui-page-sidebar [show]="showSidebar" (showEvent)="showEvent($event)">
    <div class="pt-20 pb-10 px-20">
      <div class="flex flex-items-center flex-between mb-30">
        <div class="flex flex-items-center gap-10">
          <img
            *ngIf="themeService.getTheme() === 'ahp-light'"
            src="../../../assets/Logo.svg"
            alt="logo" />
          <img
            *ngIf="themeService.getTheme() === 'ahp-dark'"
            src="../../../assets/logo-white.svg"
            alt="logo" />
          <h3>Quantum</h3>
        </div>
        <fui-button-icon
          class="mobile"
          [fullWidth]="'fit'"
          [type]="'button'"
          [size]="'m'"
          [option]="'icon'"
          [style]="'secondary'"
          [color]="'text'"
          [icon]="'cross'"
          [iconSide]="'left'"
          (onClick)="toggleSidebar()" />
      </div>
      <fui-sidenav [dataSide]="dataSide" />
    </div>
  </fui-page-sidebar>
  <!-- SIDEBAR  -->

  <!-- HEADER & BODY  -->
  <div class="w-full">
    <fui-header [position]="'sticky'">
      <div class="flex flex-center">
        <div class="w-1280">
          <div class="flex flex-between flex-items-center px-15 py-20">
            <fui-button-icon
              [fullWidth]="'fit'"
              [type]="'button'"
              [size]="'m'"
              [option]="'icon'"
              [style]="'secondary'"
              [color]="'text'"
              [icon]="showSidebar ? 'menuLeft' : 'menuRight'"
              [iconSide]="'left'"
              (onClick)="toggleSidebar()" />

            <div class="flex flex-items-center gap-15">

              <!-- DESKTOP  -->
              <fui-sitewide-search class="desktop"
                (onClick)="goTo($event)"
                [placeholder]="'Search for menu...'"
                [size]="'s'"
                [data]="filteredData"
                [searchForm]="searchForms" />
              <!-- DESKTOP  -->

              <!-- MOBILE  -->
              <fui-button-icon class="mobile"
                [fullWidth]="'fit'"
                [type]="'button'"
                [size]="'m'"
                [option]="'icon'"
                [style]="'empty'"
                [color]="'text'"
                [icon]="'search'"
                [iconSide]="'right'" />
              <!-- MOBILE  -->

              <fui-button-icon
                [fullWidth]="'fit'"
                *ngIf="themeService.getTheme() === 'ahp-light'"
                [type]="'button'"
                [size]="'m'"
                [option]="'icon'"
                [style]="'empty'"
                [color]="'text'"
                [icon]="'moon'"
                [iconSide]="'left'"
                (onClick)="toggleMode('ahp-dark')" />
              <fui-button-icon
                [fullWidth]="'fit'"
                *ngIf="themeService.getTheme() === 'ahp-dark'"
                [type]="'button'"
                [size]="'m'"
                [option]="'icon'"
                [style]="'empty'"
                [color]="'text'"
                [icon]="'sun'"
                [iconSide]="'left'"
                (onClick)="toggleMode('ahp-light')" />

              <div class="email-btn mt-2">
                <fui-button-icon
                  [fullWidth]="'fit'"
                  [type]="'button'"
                  [size]="'m'"
                  [option]="'icon'"
                  [style]="'empty'"
                  [color]="'text'"
                  [icon]="'email'"
                  [iconSide]="'left'" />
                <span class="count-notif">{{ emailCount }}</span>
              </div>

              <fui-popover [position]="'bottom'" [align]="'end'">
                <fui-avatar
                  class="cursor"
                  [shape]="'user'"
                  [type]="'initial'"
                  [name]="'Jacob Jones'"
                  [size]="'sizem'"
                  [color]="'primary'" />
                <div popover-body class="p-5">
                  <div class="w-200">
                    <div class="py-10">
                      <fui-text
                        [size]="'m'"
                        [weight]="'semibold'"
                        [textWrap]="'nowrap'">(JJ) Jacob Jones</fui-text>
                    </div>
                    <hr />
                    <div
                      class="flex flex-items-center gap-10 mb-15 cursor mt-15">
                      <fui-icons [icon]="'user'" [color]="'text'" />
                      <p class="link-click">Profile</p>
                    </div>
                    <div (click)="logout()"
                      class="flex flex-items-center gap-10 cursor mt-15">
                      <fui-icons [icon]="'continuityBelow'" [color]="'text'" />
                      <p class="link-click">Logout</p>
                    </div>
                  </div>
                </div>
              </fui-popover>

              <!-- DESKTOP  -->
              <fui-popover class="desktop" [position]="'bottom'"
                [align]="'end'">
                <fui-button-icon
                  [fullWidth]="'fit'"
                  [type]="'button'"
                  [size]="'m'"
                  [option]="'iconText'"
                  [text]="'Create New'"
                  [style]="'filled'"
                  [color]="'primary'"
                  [icon]="'arrowDown'"
                  [iconSide]="'right'" />
                <div popover-body>
                  <!-- TAB 1  -->
                  <div
                    class="p-5 w-200"
                    [ngStyle]="{ display: tab !== 1 ? 'none' : 'block' }">
                    <div class="py-10">
                      <fui-text
                        [size]="'m'"
                        [weight]="'semibold'"
                        [textWrap]="'nowrap'">Select Options</fui-text>
                    </div>

                    <hr />

                    <div
                      class="flex flex-items-center gap-5 mb-15 cursor mt-15"
                      (click)="toggleOpenFlyout()">
                      <fui-icons [icon]="'clock'" [color]="'text'" />
                      <p class="link-click">Timesheet</p>
                    </div>

                    <div class="mb-15 cursor"><p class="link-click">Matter
                        Opening</p></div>

                    <div
                      class="flex flex-items-center flex-between gap-5 mb-15 cursor"
                      (click)="clickTab(2)">
                      <p class="link-click">Payment Request</p>
                      <fui-icons [icon]="'arrowRight'" [color]="'text'" />
                    </div>

                    <div class="cursor">
                      <p class="link-click">Leave Request</p>
                    </div>
                  </div>
                  <!-- TAB 1  -->

                  <!-- TAB 2  -->
                  <div
                    class="p-5 w-200" (click)="clickTab(1)"
                    [ngStyle]="{ display: tab !== 2 ? 'none' : 'block' }">

                    <div class="flex flex-items-center gap-5 py-10 cursor">
                      <fui-icons [icon]="'arrowLeft'" [color]="'text'" />
                      <p class="link-click-title">Payment Request</p>
                    </div>

                    <hr />
                    <div class="mb-15 mt-15 cursor"><p
                        class="link-click">Payment For
                        Vendor</p></div>

                    <div class="mb-15 cursor"><p class="link-click">Payment For
                        Employee</p></div>

                    <div class="cursor"><p class="link-click">Cash
                        Advance</p></div>
                  </div>
                  <!-- TAB 2  -->
                </div>
              </fui-popover>
              <!-- DESKTOP  -->

              <!-- MOBILE  -->
              <fui-popover class="mobile" [position]="'bottom'" [align]="'end'">
                <fui-button-icon
                  [fullWidth]="'fit'"
                  [type]="'button'"
                  [size]="'s'"
                  [option]="'icon'"
                  [style]="'filled'"
                  [color]="'primary'"
                  [icon]="'arrowDown'"
                  [iconSide]="'right'" />
                <div popover-body>
                  <!-- TAB 1  -->
                  <div
                    class="p-5 w-200"
                    [ngStyle]="{ display: tab !== 1 ? 'none' : 'block' }">
                    <div class="py-10">
                      <fui-text
                        [size]="'m'"
                        [weight]="'semibold'"
                        [textWrap]="'nowrap'">Select Options</fui-text>
                    </div>

                    <hr />

                    <div
                      class="flex flex-items-center gap-5 mb-15 cursor mt-15"
                      (click)="toggleOpenFlyout()">
                      <fui-icons [icon]="'clock'" [color]="'text'" />
                      <p class="link-click">Timesheet</p>
                    </div>

                    <div class="mb-15 cursor"><p class="link-click">Matter
                        Opening</p></div>

                    <div
                      class="flex flex-items-center flex-between gap-5 mb-15 cursor"
                      (click)="clickTab(2)">
                      <p class="link-click">Payment Request</p>
                      <fui-icons [icon]="'arrowRight'" [color]="'text'" />
                    </div>

                    <div class="cursor">
                      <p class="link-click">Leave Request</p>
                    </div>
                  </div>
                  <!-- TAB 1  -->

                  <!-- TAB 2  -->
                  <div
                    class="p-5 w-200" (click)="clickTab(1)"
                    [ngStyle]="{ display: tab !== 2 ? 'none' : 'block' }">

                    <div class="flex flex-items-center gap-5 py-10 cursor">
                      <fui-icons [icon]="'arrowLeft'" [color]="'text'" />
                      <p class="link-click-title">Payment Request</p>
                    </div>

                    <hr />
                    <div class="mb-15 mt-15 cursor"><p
                        class="link-click">Payment For
                        Vendor</p></div>

                    <div class="mb-15 cursor"><p class="link-click">Payment For
                        Employee</p></div>

                    <div class="cursor"><p class="link-click">Cash
                        Advance</p></div>
                  </div>
                  <!-- TAB 2  -->
                </div>
              </fui-popover>
              <!-- MOBILE  -->

            </div>
          </div>
        </div>
      </div>
    </fui-header>
    <div class="flex flex-center my-30 mx-20">
      <div class="w-1280">
        <ng-content />
      </div>
    </div>
  </div>
  <!-- HEADER & BODY  -->
</div>
<!-- PAGE  -->

<shared-modal-delete
  [openModalDelete]="logoutModal"
  (actionOut)="logoutAction($event)"
  [title]="'Are you sure want to sign out?'"
  [desc]="''"
  [btnContinue]="'Sign Out'" />

<shared-flyout-timesheet
  [title]="'Add Timesheet'"
  [showFeeEarnerForm]="false"
  [isOpenFlyout]="isOpenFlyout"
  (closeOut)="closeOut($event)" />
